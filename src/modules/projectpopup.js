import projectFormActions from "./projectFormActions";
import enableProjectSubmit from "./projectvalidation";
import projectCancelForm from "./projectformcancel";

export default function projectCreationPopup() {
  const container = document.querySelector(".container");

  const projectPopup = document.createElement("div");
  projectPopup.classList.add("projectPopup");
  projectPopup.style.filter = "none";
  projectPopup.style.display = "none";
  container.appendChild(projectPopup);

  const projectPopupForm = document.createElement("form");
  projectPopupForm.setAttribute("id", "projectPopupForm ");
  projectPopupForm.setAttribute("name", "projectPopupForm ");
  projectPopup.appendChild(projectPopupForm);

  const projectLabel = document.createElement("label");
  projectLabel.setAttribute("for", "projectName");
  projectLabel.textContent = "Project Name";
  projectPopupForm.appendChild(projectLabel);

  const projectName = document.createElement("input");
  projectName.setAttribute("type", "text");
  projectName.setAttribute("id", "projectName");
  projectName.addEventListener("input", enableProjectSubmit);
  projectName.setAttribute("name", "projectName");
  projectName.setAttribute("placeholder", "Gym");
  projectName.required = true;
  projectPopupForm.appendChild(projectName);

  const buttonBox = document.createElement("div");
  buttonBox.classList.add("projectButtonBox");
  projectPopupForm.appendChild(buttonBox);

  const button = document.createElement("button");
  button.setAttribute("type", "button"); // no form validation needed through required tag. Used an if/else statement to check for blank input
  button.setAttribute("id", "projectSubmit");
  button.textContent = "Submit";
  button.addEventListener("click", projectFormActions);
  buttonBox.appendChild(button);

  const cancelButton = document.createElement("button");
  cancelButton.setAttribute("type", "button");
  cancelButton.setAttribute("id", "projectCancel");
  cancelButton.textContent = "Cancel";
  cancelButton.addEventListener("click", projectCancelForm);
  buttonBox.appendChild(cancelButton);
}
